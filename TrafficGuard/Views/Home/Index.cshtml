@using System.Text;
@{
    ViewData["Title"] = "Home Page";
}

<style>
    #map {
        height: 700px;
    }
</style>

<head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
          integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
          crossorigin=""/>

    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
            integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
            crossorigin=""></script>
    <!-- Load Esri Leaflet from CDN -->
    <script src="https://unpkg.com/esri-leaflet@3.0.10/dist/esri-leaflet.js"></script>
    <script src="https://unpkg.com/esri-leaflet-vector@4.0.0/dist/esri-leaflet-vector.js"></script>

    <!-- Load Esri Leaflet Geocoder from CDN -->
    <script src="https://unpkg.com/esri-leaflet-geocoder@3.1.3/dist/esri-leaflet-geocoder.js"></script>
</head>

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
    <div id="map">
        <script src="~/js/MapScript.js"></script>
        @{
                string markers = "";
                foreach (var item in ViewBag.Accidents)
                {
                    markers += $"AddMarker({item.Location.Latitude}, {item.Location.Longitude}); ";
                    //markers += $"marker.bindPopup( `Accident location - {item.Location.Latitude} | {item.Location.Longitude}` ).openPopup(); ";
                }
          }
          <script>@markers</script>
          <script>ReverseLocation()</script>
        @*`\"hello\"` for string*@
        
    </div>
</div>
